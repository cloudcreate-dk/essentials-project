# Essentials Components - Foundation Types

This library focuses purely on providing common types:

> **NOTE:**  
> **The library is WORK-IN-PROGRESS**

> Please see the **Security** notices below, to familiarize yourself with the security risks related to using the Components

- **Identifiers**
    - `CorrelationId`
    - `EventId`
    - `MessageId`
    - `SubscriberId`
    - `Tenant` and `TenantId`
- **EventStore** types
  - `AggregateType`
  - `EventName`
  - `EventOrder`
  - `EventRevision`
  - `EventType`
  - `EventTypeOrName`
  - `GlobalEventOrder`
  - `Revision`
- `RandomIdGenerator`

# Security
Depending on the chosen `PostgresqlEventStore` `AggregateEventStreamPersistenceStrategy`, e.g. `SeparateTablePerAggregateTypePersistenceStrategy`, then `AggregateType`'s value will be converted to a 
table name, or part of a table name, and thereafter directly be used in constructing SQL statements through string concatenation, which exposes that component to SQL injection attacks.  

It is the responsibility of the user of those components to sanitize the `AggregateType`'s value to ensure the security of all the SQL statements generated by this component.    
Components may call the `PostgresqlUtil#checkIsValidTableOrColumnName(String)` method to validate the table name as a first line of defense.   

>The `PostgresqlUtil#checkIsValidTableOrColumnName(String)` provides an initial layer of defense against SQL injection by applying naming conventions intended to reduce the risk of malicious input.  
However, `PostgresqlUtil#checkIsValidTableOrColumnName(String)` does not offer exhaustive protection, nor does it assure the complete security of the resulting SQL against SQL injection threats. 

>The responsibility for implementing protective measures against SQL Injection lies exclusively with the users/developers using the Essentials components and its supporting classes.** 
Users must ensure thorough sanitization and validation of API input parameters, column, table, and index names. 

Insufficient attention to these practices may leave the application vulnerable to SQL injection, potentially endangering the security and integrity of the database.    
It is highly recommended that the `AggregateType`'s value is only derived from a controlled and trusted source.   
To mitigate the risk of SQL injection attacks, external or untrusted inputs should never directly provide the `AggregateType`'s value.   
**Failure to adequately sanitize and validate this value could expose the application to SQL injection**

# Configuration
To use `foundation-types` just add the following Maven dependency:

```xml

<dependency>
    <groupId>dk.cloudcreate.essentials.components</groupId>
    <artifactId>foundation-types</artifactId>
    <version>0.40.4</version>
</dependency>
```




